import i18n from "i18next";
import { initReactI18next } from "react-i18next";

// Detecta o idioma do navegador ou usa o salvo no localStorage
const getInitialLanguage = () => {
  if (typeof window !== "undefined") {
    const savedLang = localStorage.getItem("i18nextLng");
    if (savedLang) return savedLang;

    const browserLang = navigator.language.split("-")[0];
    return ["pt", "en"].includes(browserLang) ? browserLang : "pt";
  }
  return "pt";
};

// Traduções
const resources = {
  pt: {
    translation: {
      nav: {
        home: "Início",
        about: "Sobre",
        amenities: "Comodidades",
        photos: "Fotos",
        reviews: "Avaliações",
        contact: "Contato",
      },
      hero: {
        title: "Explore Sua Casa de Praia",
        subtitle: "dos Sonhos",
        data: "Selecionar as datas",
        guests: "Selecionar hóspedes",
        guestSingular: "hóspede",
        guestPlural: "hóspedes",
        guest_singular: "hóspede",
        guest_plural: "hóspedes",
        dataLabel: "Datas",
        guestsLabel: "Hóspedes",
        buttonNext: "Próximo",
        adults: "Adultos",
        children: "Crianças",
        babies: "Bebês",
        animals: "Animais",
        confirm: "Confirmar",
      },
      amenities: {
        title: "Comodidades",
        subtitle: "Tudo para seu Conforto",
        pool: "Piscina Privativa",
        poolDesc: "Piscina com LED",
        bbq: "Churrasqueira",
        bbqDesc: "Área gourmet completa",
        wifi: "Wi-Fi Rápido",
        wifiDesc: "Internet de alta velocidade",
        parking: "Estacionamento",
        parkingDesc: "Garagem privativa para 3 veículos",
        ac: "Ventilador de teto",
        acDesc: "Ventiladores de teto nos quartos e sala",
        kitchen: "Cozinha Completa",
        kitchenDesc: "Todos os utensílios necessários",
        tv: "Smart TV",
        tvDesc: "Diversos canais e Netflix para entretenimento em família",
        security: "Segurança 24h",
        securityDesc:
          "Sistema de monitoramento com câmeras de segurança externa e cerca elétrica",
      },
      photos: {
        galleryLabel: "GALERIA",
        sectionTitle: "Explore Nossa",
        sectionTitleHighlight: "Casa de Praia",
        sectionDescription: "Descubra cada detalhe dos nossos espaços",
        title: "Galeria de Fotos",
        subtitle: "Conheça Nossa Casa",
        cards: {
          pool: { title: "Piscina", desc: "Piscina moderna de 5 metros de comprimento e 2,30m de largura com 1,40m de profundidade" },
          decoration: { title: "Decoração", desc: "Piscina com jardim artificial e iluminação LED RGB para fotos incríveis." },
          external: { title: "Área Externa", desc: "Piscina privativa com cascata" },
          lateral: { title: "Vista Lateral", desc: "Casa de esquina equipada com cerca elétrica e câmeras de segurança." },
          garage: { title: "Garagem", desc: "Garagem com 3 vagas privativas e segura no local." },
          living: { title: "Sala de Estar", desc: "Sala de estar com Smart TV 50\" e sofá cama para 2 pessoas." },
          gourmet: { title: "Espaço Gourmet", desc: "Espaço gourmet com churrasqueira e área de lazer para relaxar." },
          kitchen: { title: "Cozinha", desc: "Cozinha com geladeira, cooktop e utensílios de cozinha para preparação de refeições." },
          bathroom: { title: "Banheiros", desc: "Casa com 2 banheiros e 1 lavabo, equipados com água quente e chuveiro elétrico." },
          room1: { title: "Quarto 1", desc: "Quarto 1 suíte com 2 camas de solteiro e 1 cama de casal, equipado com ventilador de teto." },
          room2: { title: "Quarto 2", desc: "Quarto 2 suíte com 2 camas de solteiro e 1 cama de casal, equipado com ventilador de teto." },
        },
      },
      places: {
        title: "Pontos Turísticos",
        subtitle: "Belas praias e rica cultura a poucos minutos de distância",
        dragHint: "Arraste para explorar os pontos turísticos da região",
        items: {
          camaAnchieta: "Cama de Anchieta",
          passarelaAnchieta: "Passarela de Anchieta",
          praiaCibratel: "Praia Cibratel",
          morroParanambuco: "Morro do Paranambuco",
          mulheresAreia: "Estátua Mulheres de Areia",
          centrinho: "Centrinho da Cidade",
          praiaSuarao: "Praia do Suarão",
          praiaSonho: "Praia do Sonho",
        },
      },
      reviews: {
        sectionLabel: "DEPOIMENTOS",
        title: "Depoimentos",
        subtitle: "O Que Nossos Hóspedes Dizem",
        titlePrefix: "O Que Nossos ",
        titleHighlight: "Hóspedes Dizem",
        intro: "Mais de {{count}} hospedagens concluídas com sucesso. Um histórico que transmite segurança, credibilidade e excelência em cada estadia.",
        introBefore: "Mais de ",
        introAfter: " hospedagens concluídas com sucesso. Um histórico que transmite segurança, credibilidade e excelência em cada estadia.",
        based: "Baseado em",
        reviewsCount: "avaliações",
        reviews_count: "avaliações",
        verified: "Avaliações verificadas no Google",
        viewAll: "Ver Todas as Avaliações",
        google: "Google",
        airbnb: "Airbnb",
        loading: "Carregando avaliações do Google...",
        offline: "Avaliações em modo offline",
      },
      footer: {
        tagline: "Sua casa de praia dos sonhos com piscina privativa, vista para o mar e todas as comodidades para férias inesquecíveis.",
        quickLinks: "Links Rápidos",
        home: "Início",
        photos: "Fotos",
        amenities: "Comodidades",
        reviews: "Avaliações",
        reserve: "Reservar",
        contact: "Entre em contato",
        hours: "Horários",
        checkIn: "Check-in",
        checkOut: "Check-out",
        serviceHours: "Atendimento",
        serviceNote: "Respondemos em até 2 horas durante o horário de atendimento",
        rights: "Todos os direitos reservados",
        madeWith: "Feito com",
        madeWithLove: "para suas férias perfeitas",
      },
      reservation: {
        rotating1: "Solicite",
        rotating2: "Agora Mesmo",
        rotating3: "Seu Orçamento",
        subtitle: "Reserve sua estadia dos sonhos e aproveite momentos inesquecíveis à beira-mar",
        formTitle: "Reserve sua",
        formTitleHighlight: "Experiência",
        formSubtitle: "Preencha o formulário e receba seu orçamento personalizado em instantes via WhatsApp.",
        checkIn: "Entrada",
        checkOut: "Saída",
        guests: "Hóspedes",
        checkInTime: "Horário de Entrada",
        selectPlaceholder: "Selecione",
        timePlaceholder: "Selecione o horário",
        morning: "Manhã (09:00 - 12:00)",
        evening: "Noite (18:00 - 22:00)",
        yourName: "Seu Nome",
        namePlaceholder: "Digite seu nome completo",
        guestsPlaceholder: "Quantidade",
        submit: "Solicitar Orçamento",
        whatsappNote: "Você será redirecionado para o WhatsApp",
        whatsappMessage: "Olá! Gostaria de solicitar um orçamento",
        messageName: "Nome",
        messageCheckIn: "Data de entrada",
        messageCheckOut: "Data de saída",
        messageTime: "Horário de entrada",
        messageGuests: "Hóspedes",
      },
      gallery: {
        prev: "Anterior",
        next: "Próximo",
      },
      dock: {
        home: "Home",
        calendar: "Calendário",
        photos: "Fotos",
        reviews: "Avaliações",
      },
    },
  },
  en: {
    translation: {
      nav: {
        home: "Home",
        about: "About",
        amenities: "Amenities",
        photos: "Photos",
        reviews: "Reviews",
        contact: "Contact",
      },
      hero: {
        title: "Explore Your Dream",
        subtitle: "Beach House",
        data: "Select the dates",
        guests: "Select guests",
        guest_singular: "guest",
        guest_plural: "guests",
        dataLabel: "Dates",
        guestsLabel: "Guests",
        buttonNext: "Next",
        adults: "Adults",
        children: "Children",
        babies: "Babies",
        animals: "Animals",
        confirm: "Confirm",
      },
      amenities: {
        title: "Amenities",
        subtitle: "Everything for Your Comfort",
        pool: "Private Pool",
        poolDesc: "Led poll",
        bbq: "Barbecue",
        bbqDesc: "Complete gourmet area",
        wifi: "Fast Wi-Fi",
        wifiDesc: "High-speed internet",
        parking: "Parking",
        parkingDesc: "Private garage for 3 vehicles",
        ac: "Ceiling fans",
        acDesc: "Ceiling fans in bedrooms and living room",
        kitchen: "Full Kitchen",
        kitchenDesc: "All necessary utensils",
        tv: "Smart TV",
        tvDesc: "Various channels and Netflix for family entertainment",
        security: "Security 24h",
        securityDesc:
          "Monitoring system with external security cameras and electric fence",
      },
      photos: {
        galleryLabel: "GALLERY",
        sectionTitle: "Explore Our",
        sectionTitleHighlight: "Beach House",
        sectionDescription: "Discover every detail of our spaces",
        title: "Photo Gallery",
        subtitle: "Discover Our House",
        cards: {
          pool: { title: "Pool", desc: "Modern 5m long, 2.30m wide pool with 1.40m depth" },
          decoration: { title: "Decoration", desc: "Pool with artificial garden and RGB LED lighting for amazing photos." },
          external: { title: "Outdoor Area", desc: "Private pool with waterfall" },
          lateral: { title: "Side View", desc: "Corner house with electric fence and security cameras." },
          garage: { title: "Garage", desc: "Garage with 3 private parking spaces on site." },
          living: { title: "Living Room", desc: "Living room with 50\" Smart TV and sofa bed for 2." },
          gourmet: { title: "Gourmet Space", desc: "Gourmet space with barbecue and leisure area to relax." },
          kitchen: { title: "Kitchen", desc: "Kitchen with fridge, cooktop and utensils for meal preparation." },
          bathroom: { title: "Bathrooms", desc: "House with 2 bathrooms and 1 powder room, hot water and electric shower." },
          room1: { title: "Bedroom 1", desc: "Bedroom 1 suite with 2 single beds and 1 double bed, ceiling fan." },
          room2: { title: "Bedroom 2", desc: "Bedroom 2 suite with 2 single beds and 1 double bed, ceiling fan." },
        },
      },
      places: {
        title: "Tourist Places",
        subtitle: "Beautiful Beaches and Rich Culture a Few Minutes Away",
        dragHint: "Drag to explore the region's tourist spots",
        items: {
          camaAnchieta: "Cama de Anchieta",
          passarelaAnchieta: "Anchieta Boardwalk",
          praiaCibratel: "Cibratel Beach",
          morroParanambuco: "Morro do Paranambuco",
          mulheresAreia: "Mulheres de Areia Statue",
          centrinho: "Downtown",
          praiaSuarao: "Suarão Beach",
          praiaSonho: "Praia do Sonho",
        },
      },
      reviews: {
        sectionLabel: "TESTIMONIALS",
        title: "Testimonials",
        subtitle: "What Our Guests Say",
        titlePrefix: "What Our ",
        titleHighlight: "Guests Say",
        intro: "Over {{count}} successful stays. A track record that conveys safety, credibility and excellence in every stay.",
        introBefore: "Over ",
        introAfter: " successful stays. A track record that conveys safety, credibility and excellence in every stay.",
        based: "Based on",
        reviewsCount: "reviews",
        reviews_count: "reviews",
        verified: "Verified reviews on Google",
        viewAll: "View All Reviews",
        google: "Google",
        airbnb: "Airbnb",
        loading: "Loading Google reviews...",
        offline: "Reviews in offline mode",
      },
      footer: {
        tagline: "Your dream beach house with private pool, sea view and all the comforts for an unforgettable vacation.",
        quickLinks: "Quick Links",
        home: "Home",
        photos: "Photos",
        amenities: "Amenities",
        reviews: "Reviews",
        reserve: "Reserve",
        contact: "Get in touch",
        hours: "Hours",
        checkIn: "Check-in",
        checkOut: "Check-out",
        serviceHours: "Service",
        serviceNote: "We reply within 2 hours during service hours",
        rights: "All rights reserved",
        madeWith: "Made with",
        madeWithLove: "for your perfect vacation",
      },
      reservation: {
        rotating1: "Request",
        rotating2: "Right Now",
        rotating3: "Your Quote",
        subtitle: "Book your dream stay and enjoy unforgettable moments by the sea",
        formTitle: "Book your",
        formTitleHighlight: "Experience",
        formSubtitle: "Fill out the form and get your personalized quote via WhatsApp in minutes.",
        checkIn: "Check-in",
        checkOut: "Check-out",
        guests: "Guests",
        checkInTime: "Check-in Time",
        selectPlaceholder: "Select",
        timePlaceholder: "Select time",
        morning: "Morning (09:00 - 12:00)",
        evening: "Evening (18:00 - 22:00)",
        yourName: "Your Name",
        namePlaceholder: "Enter your full name",
        guestsPlaceholder: "Quantity",
        submit: "Request Quote",
        whatsappNote: "You will be redirected to WhatsApp",
        whatsappMessage: "Hi! I would like to request a quote",
        messageName: "Name",
        messageCheckIn: "Check-in date",
        messageCheckOut: "Check-out date",
        messageTime: "Check-in time",
        messageGuests: "Guests",
      },
      gallery: {
        prev: "Previous",
        next: "Next",
      },
      dock: {
        home: "Home",
        calendar: "Calendar",
        photos: "Photos",
        reviews: "Reviews",
      },
    },
  },
};

i18n
  .use(initReactI18next) // Integra com React
  .init({
    resources,
    fallbackLng: "pt", // Idioma padrão
    lng: getInitialLanguage(), // Idioma inicial detectado
    interpolation: {
      escapeValue: false, // React já protege contra XSS
    },
  });

// Salva a escolha do idioma no localStorage quando mudar
i18n.on("languageChanged", (lng) => {
  if (typeof window !== "undefined") {
    localStorage.setItem("i18nextLng", lng);
  }
});

export default i18n;
